



<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My 3-Month Career Transformation Plan</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Merriweather:wght@700&display=swap');

    body {
      font-family: 'Inter', sans-serif;
      background-color: #1e1e2f; /* dark background */
      color: #e5e7eb;
      margin: 0;
      padding: 2rem;
      line-height: 1.6;
    }

    .container {
      max-width: 960px;
      margin: 0 auto;
      background: #2a2a3d; /* dark card background */
      padding: 2rem;
      border-radius: 16px;
      box-shadow: 0 6px 14px rgba(0,0,0,0.5);
      border: 1px solid #3f3f56;
    }

    h1 {
      font-family: 'Merriweather', serif;
      font-size: 2.4rem;
      font-weight: 700;
      text-align: center;
      color: #a5b4fc; /* pastel lavender */
      margin-bottom: 1.5rem;
    }

    .progress-summary {
      text-align: center;
      margin-bottom: 2rem;
      background: #374151;
      padding: 1rem;
      border-radius: 12px;
    }

    .progress-summary-text {
      font-size: 1.25rem;
      font-weight: 600;
      color: #34d399; /* pastel green */
    }

    .progress-bar-container {
      width: 100%;
      background-color: #4b5563;
      border-radius: 9999px;
      height: 0.75rem;
      margin-top: 0.5rem;
    }

    .progress-bar-fill {
      background-color: #60a5fa; /* pastel blue */
      height: 100%;
      border-radius: 9999px;
      transition: width 0.5s ease-in-out;
    }

    .node {
      padding: 1rem;
      margin-bottom: 1rem;
      border-radius: 10px;
      background-color: #2f3146;
      border: 1px solid #4b5563;
      transition: all 0.3s ease;
    }

    .node.level-0 {
      border-left: 6px solid #60a5fa;
      background: #2d3a4f;
    }

    .node.level-1 {
      border-left: 6px solid #34d399;
      background: #2c3f3b;
    }

    .node-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
    }

    .node-title {
      font-weight: 600;
    }

    .node-title.level-0 { font-size: 1.5rem; color: #93c5fd; }
    .node-title.level-1 { font-size: 1.2rem; color: #6ee7b7; }

    .toggle-icon {
      font-size: 1.25rem;
      transition: transform 0.3s ease;
      color: #9ca3af;
    }

    .details {
      font-size: 0.9rem;
      margin-top: 0.5rem;
      color: #d1d5db;
    }

    .goal-list, .task-list {
      list-style: none;
      padding-left: 1rem;
      margin-top: 1rem;
    }

    .task-list-item {
      display: flex;
      align-items: center;
      margin-bottom: 0.5rem;
    }

    .task-list-item input[type="checkbox"] {
      margin-right: 0.5rem;
      appearance: none;
      width: 16px;
      height: 16px;
      border: 2px solid #93c5fd;
      border-radius: 4px;
      cursor: pointer;
      position: relative;
      background-color: #1f2937;
    }

    .task-list-item input[type="checkbox"]:checked {
      background-color: #93c5fd;
      border-color: #93c5fd;
    }

    .task-list-item input[type="checkbox"]:checked::after {
      content: '\u2713';
      font-size: 12px;
      color: #111827;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    .completed {
      text-decoration: line-through;
      color: #6b7280;
    }

    .progress-text {
      font-size: 0.875rem;
      font-weight: 600;
      color: #93c5fd;
      margin-top: 0.5rem;
    }

    .add-task-btn {
      background-color: #818cf8;
      color: #111827;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      margin-top: 1rem;
      font-size: 0.9rem;
      transition: 0.3s;
    }

    .add-task-btn:hover {
      background-color: #6366f1;
      color: white;
    }

    .task-list-text, .goal-list-text {
      cursor: pointer;
    }

    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.7);
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .modal-content {
      background: #2f3146;
      padding: 1.5rem;
      border-radius: 12px;
      width: 300px;
      text-align: center;
    }
    .modal-content input {
      width: 100%;
      padding: 0.5rem;
      margin-bottom: 1rem;
      border-radius: 6px;
      border: 1px solid #4b5563;
      background: #1e1e2f;
      color: white;
    }
    .modal-buttons {
      display: flex;
      justify-content: space-between;
    }
    .modal-buttons button {
      flex: 1;
      margin: 0 0.25rem;
      padding: 0.5rem;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
    }
    .ok-btn { background: #34d399; color: #111827; }
    .cancel-btn { background: #6b7280; color: white; }
    .delete-btn { background: #f87171; color: white; }
  </style>
</head>
<body>
  <div class="container" id="app"></div>

  <!-- Modal for editing/deleting tasks -->
  <div class="modal" id="editModal">
    <div class="modal-content">
      <input type="text" id="editInput" />
      <div class="modal-buttons">
        <button class="ok-btn" id="okBtn">OK</button>
        <button class="cancel-btn" id="cancelBtn">Cancel</button>
        <button class="delete-btn" id="deleteBtn">Delete</button>
      </div>
    </div>
  </div>

<script>
    const initialRoadmapData = {
        title: 'My 3-Month Career Transformation Plan',
        months: [
            {
                name: 'August: The Foundation Month',
                details: 'Build an unbreakable foundation with core skills, a new project, and a freelancing plan.',
                weeks: [
                    {
                        name: 'Week 1 (Aug 18 - 24)',
                        tasks: [
                            { text: '**DSA:** Complete all basic problems from the "Arrays" section of Striver\'s DSA sheet.', completed: false },
                            { text: '**Personal Project:** Set up the environment and initial project structure for the Medical Chatbot.', completed: false },
                            { text: '**Freelancing:** Research and identify 3-5 platforms and products to offer.', completed: false },
                            { text: '**Personal Branding:** Begin overhauling your LinkedIn and GitHub profiles.', completed: false }
                        ]
                    }
                ],
                monthGoals: ['DSA basics', 'Personal Project setup']
            }
        ],
    };

    let roadmapData = JSON.parse(localStorage.getItem('roadmapData')) || initialRoadmapData;
    let currentEdit = null; // Track editing task

    function saveToLocalStorage() {
        localStorage.setItem('roadmapData', JSON.stringify(roadmapData));
    }

    function calculateCompletion(tasks) {
        if (!tasks || tasks.length === 0) return 0;
        const completedTasks = tasks.filter(task => task.completed).length;
        return Math.round((completedTasks / tasks.length) * 100);
    }

    function calculateTotalCompletion() {
        let allTasks = [];
        roadmapData.months.forEach(month => {
            month.weeks.forEach(week => {
                allTasks = allTasks.concat(week.tasks);
            });
        });
        return calculateCompletion(allTasks);
    }

    function renderProgressBar(percentage) {
        return `
            <div class="progress-bar-container">
                <div class="progress-bar-fill" style="width: ${percentage}%"></div>
            </div>
        `;
    }

    function renderNode(node, level, monthIndex, weekIndex) {
        const hasChildren = node.weeks || node.monthGoals || node.tasks;
        const isOpen = node.isOpen || false;
        
        let percentage = 0;
        if (node.tasks) {
            percentage = calculateCompletion(node.tasks);
        } else if (node.weeks) {
            const allWeekTasks = node.weeks.flatMap(w => w.tasks);
            percentage = calculateCompletion(allWeekTasks);
        }

        const goalList = node.monthGoals ? `
            <ul class="goal-list">
                ${node.monthGoals.map((goal, index) => `<li class="goal-list-text" data-month-index="${monthIndex}" data-goal-index="${index}">${goal}</li>`).join('')}
            </ul>
            ${level === 0 ? `<button class="add-task-btn" data-month-index="${monthIndex}" data-type="goal">Add Goal</button>` : ''}
        ` : '';

        const taskList = node.tasks ? `
            <ul class="task-list">
                ${node.tasks.map((task, index) => {
                    return `
                    <li class="task-list-item">
                        <input type="checkbox" data-month-index="${monthIndex}" data-week-index="${weekIndex}" data-task-index="${index}" ${task.completed ? 'checked' : ''}>
                        <span class="task-list-text ${task.completed ? 'completed' : ''}" 
                            data-month-index="${monthIndex}" 
                            data-week-index="${weekIndex}" 
                            data-task-index="${index}">${task.text}</span>
                    </li>
                `;
                }).join('')}
            </ul>
            ${level === 1 ? `<button class="add-task-btn" data-month-index="${monthIndex}" data-week-index="${weekIndex}" data-type="task">Add Task</button>` : ''}
        ` : '';

        const children = node.weeks ? `
            <div style="padding-left: 1rem; margin-top: 1rem;">
                ${node.weeks.map((week, index) => renderNode(week, level + 1, monthIndex, index)).join('')}
            </div>
        ` : '';

        return `
            <div class="node level-${level}">
                <div class="node-header" data-month-index="${monthIndex}" data-week-index="${weekIndex}" data-level="${level}">
                    <h3 class="node-title level-${level}">${node.name}</h3>
                    ${hasChildren ? `<span class="toggle-icon" style="transform: rotate(${isOpen ? '180deg' : '0deg'})">&#9660;</span>` : ''}
                </div>
                ${node.details ? `<p class="details">${node.details}</p>` : ''}
                ${level > 0 && node.tasks ? `
                    <p class="progress-text">${percentage}% Complete</p>
                    ${renderProgressBar(percentage)}
                ` : ''}
                ${isOpen ? goalList : ''}
                ${isOpen ? taskList : ''}
                ${isOpen ? children : ''}
            </div>
        `;
    }

    function renderApp() {
        const totalCompletion = calculateTotalCompletion();
        const appDiv = document.getElementById('app');
        
        appDiv.innerHTML = `
            <h1>${roadmapData.title}</h1>
            <div class="progress-summary">
                <span class="progress-summary-text">Overall Progress: ${totalCompletion}%</span>
                ${renderProgressBar(totalCompletion)}
            </div>
            ${roadmapData.months.map((month, index) => renderNode(month, 0, index, -1)).join('')}
        `;
    }

    document.addEventListener('DOMContentLoaded', () => {
        document.addEventListener('click', (event) => {
            const target = event.target;

            if (target.matches('.task-list-text')) {
                const monthIndex = parseInt(target.getAttribute('data-month-index'));
                const weekIndex = parseInt(target.getAttribute('data-week-index'));
                const taskIndex = parseInt(target.getAttribute('data-task-index'));

                currentEdit = { monthIndex, weekIndex, taskIndex };
                document.getElementById('editInput').value = roadmapData.months[monthIndex].weeks[weekIndex].tasks[taskIndex].text;
                document.getElementById('editModal').style.display = 'flex';
            }
        });

        // Modal Buttons
        document.getElementById('okBtn').addEventListener('click', () => {
            const newText = document.getElementById('editInput').value.trim();
            if (newText && currentEdit) {
                roadmapData.months[currentEdit.monthIndex].weeks[currentEdit.weekIndex].tasks[currentEdit.taskIndex].text = newText;
                saveToLocalStorage();
                renderApp();
            }
            document.getElementById('editModal').style.display = 'none';
        });

        document.getElementById('cancelBtn').addEventListener('click', () => {
            document.getElementById('editModal').style.display = 'none';
        });

        document.getElementById('deleteBtn').addEventListener('click', () => {
            if (currentEdit) {
                roadmapData.months[currentEdit.monthIndex].weeks[currentEdit.weekIndex].tasks.splice(currentEdit.taskIndex, 1);
                saveToLocalStorage();
                renderApp();
            }
            document.getElementById('editModal').style.display = 'none';
        });

        document.addEventListener('change', (event) => {
            const target = event.target;
            if (target.matches('input[type="checkbox"]')) {
                const monthIndex = parseInt(target.getAttribute('data-month-index'));
                const weekIndex = parseInt(target.getAttribute('data-week-index'));
                const taskIndex = parseInt(target.getAttribute('data-task-index'));
                roadmapData.months[monthIndex].weeks[weekIndex].tasks[taskIndex].completed = !roadmapData.months[monthIndex].weeks[weekIndex].tasks[taskIndex].completed;
                saveToLocalStorage();
                renderApp();
            }
        });

        renderApp();
    });
</script>

</body>
</html>
